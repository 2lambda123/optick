version: 2.0.{build}

platform:
  - x64

configuration:
  - Debug
  - Release

matrix:
  fast_finish: true

before_build:
  - nuget restore OptickApp/OptickApp_vs2015.sln
  
build_script:
  - Tools\Windows\premake5.exe vs2015
  - cd Build/vs2015
  - MsBuild Brofiler.sln /t:Rebuild /p:Configuration=%CONFIGURATION%
  - cd ../../OptickApp
  - MsBuild OptickApp_vs2017.sln /t:Rebuild /p:Configuration=%CONFIGURATION%